apiVersion: v1
kind: ConfigMap
metadata:
  name: playground-demo-python-bot
data:
  main.py: |
    import os

    from playground import Bot

    app = Bot(
        node_id=os.getenv("HANZO_NODE_ID", "demo-python-bot"),
        playground_server=os.getenv("PLAYGROUND_URL", "http://localhost:8080"),
        dev_mode=True,
    )

    @app.reasoner()
    async def hello(name: str = "Playground") -> dict:
        return {"greeting": f"Hello, {name}!", "node_id": app.node_id}

    @app.reasoner()
    async def demo_echo(message: str = "Hello!") -> dict:
        return {"echo": message, "node_id": app.node_id}

    if __name__ == "__main__":
        port = int(os.getenv("PORT", "8001"))
        app.run(host="0.0.0.0", port=port, auto_port=False)

